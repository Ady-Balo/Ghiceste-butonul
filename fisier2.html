<html>
    <head>
        <title>Ghiceste butonul</title>
    </head>
    <body>
        <p><b><u>GHICESTE BUTONUL CASTIGATOR</u></b></p>
        <h4>Introdu numarul de butone mai jos</h4>
        <input type="text" id="casutaInput">
        <button id="butonTrimite">Trimite</button> <br/>
        
        <div id="locButoane">

        </div>
    </body>
    <script>
        let randomValue = 0;
        let numar = 0;

        const createButtons = () => {
            console.log(`Creez ${numar} butoane`)
            for(let i = 1; i <= numar; i++) {
                const butonNou = document.createElement("button");
                butonNou.setAttribute("id", `buton-${i}`);
                butonNou.appendChild(document.createTextNode(`Butonul ${i}`));

                const locatie = document.getElementById("locButoane");
                locatie.append(butonNou);
                locatie.append(document.createElement("br"));
                locatie.append(document.createElement("br"));
            }
        };

        const createListeners = () => {
            for(let i = 1; i <= numar; i++) {
                document.getElementById(`buton-${i}`).onclick = () => {
                    if(randomValue === i)
                        alert("BRAVO - Ai apasat butonul castigator!!!");
                        else if(randomValue != i)
                        alert("Mai incearca !!!")
                }
                
            }
        };
        
        document.getElementById("butonTrimite").onclick = () => {
            numar = parseInt(document.getElementById("casutaInput").value);
            createButtons();
            
            randomValue = Math.floor(Math.random() * numar) + 1;
            console.log(`Random value is ${randomValue}`);

            createListeners();
        };
    </script>
</html>